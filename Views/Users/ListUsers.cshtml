@model IEnumerable<addingFieldsLogin.Models.User>
@{
    ViewBag.Title = "ListUsers";
}
<style>
    * {
        margin: 0px;
        padding: 0px;
        box-sizing: border-box;
        font-family: Leelawadee;
    }

    #CalorieTable {
        width: 100%;
    }

    th {
        font-size: 20px;
    }
</style>
<h2>User log </h2>
<table id="CalorieTable" class="table table-bordered">

    <thead>
        <tr>
            <th>User Email</th>
            <th>Log Date</th>
            <th>Height</th>
            <th>Weight</th>
            <th>Age</th>
        </tr>
    </thead>

    @*@foreach (var c in Model)
        {
            if (User.Identity.Name == c.EmailLogin)
            {
                <tbody>
                    <tr>
                        <td>@Html.ActionLink(c.EmailLogin, "UserDetails", "Users", new { id = c.id }, null)</td>
                        <td>@c.log.ToShortDateString()</td>
                        <td>@c.log.ToShortTimeString()</td>
                        <td>@c.age</td>
                        <td>@c.height <b>cm</b></td>
                        <td>@c.weight <b>kg</b></td>
                    </tr>
                </tbody>
            }
        }*@

    @*
        "columns": [
            { 'data': 'EmailLogin' },
            { 'data': 'log' },
            { 'data': 'height' },
            { 'data': 'weight' },
            { 'data': 'age' }
            ],
    *@
</table>

@section scripts{

    <script type="text/javascript">
        $(document).ready(function () {
            $('#CalorieTable').DataTable({
                "ajax": {
                    "url": '/Users/GetData',
                    "type": 'GET',
                    "dataType": 'json',
                },
                "columns": [
                    { 'data': 'EmailLogin' },
                    { 'data': 'log' },
                    { 'data': 'height' },
                    { 'data': 'weight' },
                    { 'data': 'age' }
                ],

                "dom": 'Bfrtip',
                "buttons": [
                    {
                        extend: 'copy',
                        className: 'btn btn-primary',
                        text: '<i class="far fa-copy"></i> Copy'
                    },
                    {
                        extend: 'excel',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="far fa-file-excel"></i> Excel'
                    },
                    {
                        extend: 'pdf',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="far fa-file-pdf"></i> Pdf'
                    },
                    {
                        extend: 'csv',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="fas fa-file-csv"></i> CSV'
                    },
                    {
                        extend: 'print',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="fas fa-print"></i> Print'
                    }
                ]
            });
        });
    </script>


}
